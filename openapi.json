{
  "openapi": "3.0.0",
  "info": {
    "title": "Gamified Task Management API",
    "version": "1.0.0",
    "description": "API REST gamificada para gerenciamento de tarefas com IA, XP, levels e sistema de recompensas"
  },
  "servers": [
    {
      "url": "http://localhost:3000",
      "description": "Servidor de Desenvolvimento"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "64a1b2c3d4e5f6789abcdef0"
          },
          "name": {
            "type": "string",
            "example": "Yuri Dev"
          },
          "email": {
            "type": "string",
            "example": "yuri.dev@example.com"
          },
          "role": {
            "type": "string",
            "enum": [
              "user",
              "admin"
            ],
            "example": "user"
          },
          "isActive": {
            "type": "boolean",
            "example": true
          },
          "lastLogin": {
            "type": "string",
            "format": "date-time"
          },
          "gamification": {
            "type": "object",
            "properties": {
              "level": {
                "type": "number",
                "example": 5
              },
              "totalXP": {
                "type": "number",
                "example": 450
              }
            }
          }
        }
      },
      "Task": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "64a1b2c3d4e5f6789abcdef1"
          },
          "title": {
            "type": "string",
            "example": "Implementar Story-Mode"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in_progress",
              "completed"
            ]
          },
          "priority": {
            "type": "string",
            "enum": [
              "low",
              "medium",
              "high"
            ]
          },
          "userId": {
            "type": "string",
            "example": "64a1b2c3d4e5f6789abcdef0"
          }
        }
      },
      "Story": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "example": "64a1b2c3d4e5f6789abcdef2"
          },
          "title": {
            "type": "string",
            "example": "A Batalha contra o Bug Monstruoso"
          },
          "story": {
            "type": "string",
            "example": "Nas profundezas do código, um bug terrível despertou..."
          },
          "theme": {
            "type": "string",
            "enum": [
              "medieval",
              "scifi",
              "modern",
              "fantasy"
            ]
          },
          "progress": {
            "type": "number",
            "example": 50
          }
        }
      },
      "Error": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": false
          },
          "message": {
            "type": "string",
            "example": "Erro de validação"
          }
        }
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "paths": {
    "/api/auth/register": {
      "post": {
        "summary": "Registrar novo usuário",
        "tags": [
          "Auth"
        ],
        "security": [],
        "operationId": "registerUser",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "email",
                  "password"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 50,
                    "example": "João Silva"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "joao@email.com"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 6,
                    "example": "123456"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "user",
                      "admin"
                    ],
                    "default": "user",
                    "example": "user"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Usuário registrado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Usuário registrado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/User"
                        },
                        "token": {
                          "type": "string",
                          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos ou usuário já existe",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "summary": "Login de usuário",
        "tags": [
          "Auth"
        ],
        "security": [],
        "operationId": "loginUser",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "joao@email.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "123456"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login realizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Login realizado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/User"
                        },
                        "token": {
                          "type": "string",
                          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Credenciais inválidas",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/profile": {
      "get": {
        "summary": "Obter perfil do usuário logado",
        "tags": [
          "Auth"
        ],
        "operationId": "getUserProfile",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Perfil do usuário",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Token não fornecido ou inválido",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Atualizar perfil do usuário",
        "tags": [
          "Auth"
        ],
        "operationId": "updateUserProfile",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 50,
                    "example": "João Silva Santos"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "joao.santos@email.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Perfil atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Perfil atualizado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Email já está em uso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/change-password": {
      "put": {
        "summary": "Alterar senha do usuário",
        "tags": [
          "Auth"
        ],
        "operationId": "changeUserPassword",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "currentPassword",
                  "newPassword"
                ],
                "properties": {
                  "currentPassword": {
                    "type": "string",
                    "example": "123456"
                  },
                  "newPassword": {
                    "type": "string",
                    "minLength": 6,
                    "example": "novaSenha123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Senha alterada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Senha alterada com sucesso"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Senha atual incorreta ou nova senha inválida",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "summary": "Logout do usuário",
        "tags": [
          "Auth"
        ],
        "operationId": "logoutUser",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Logout realizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Logout realizado com sucesso"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/leaderboard": {
      "get": {
        "summary": "Obter leaderboard público",
        "tags": [
          "Gamification"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 10
            },
            "description": "Número de usuários no ranking"
          },
          {
            "in": "query",
            "name": "period",
            "schema": {
              "type": "string",
              "enum": [
                "all",
                "weekly",
                "monthly"
              ],
              "default": "all"
            },
            "description": "Período do ranking"
          }
        ],
        "responses": {
          "200": {
            "description": "Leaderboard dos top usuários",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "leaderboard": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "rank": {
                                "type": "number",
                                "example": 1
                              },
                              "username": {
                                "type": "string",
                                "example": "GamerPro123"
                              },
                              "level": {
                                "type": "number",
                                "example": 15
                              },
                              "totalXP": {
                                "type": "number",
                                "example": 1450
                              },
                              "tasksCompleted": {
                                "type": "number",
                                "example": 87
                              },
                              "currentStreak": {
                                "type": "number",
                                "example": 12
                              },
                              "badges": {
                                "type": "number",
                                "example": 8
                              }
                            }
                          }
                        },
                        "period": {
                          "type": "string",
                          "example": "all"
                        },
                        "total": {
                          "type": "number",
                          "example": 10
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "getLeaderboard"
      }
    },
    "/api/gamification/dashboard": {
      "get": {
        "summary": "Dashboard de gamificação do usuário",
        "tags": [
          "Gamification"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Dashboard completo do usuário",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "type": "object",
                          "properties": {
                            "username": {
                              "type": "string"
                            },
                            "level": {
                              "type": "number"
                            },
                            "totalXP": {
                              "type": "number"
                            },
                            "rank": {
                              "type": "number"
                            }
                          }
                        },
                        "stats": {
                          "type": "object",
                          "properties": {
                            "level": {
                              "type": "number"
                            },
                            "totalXP": {
                              "type": "number"
                            },
                            "tasksCompleted": {
                              "type": "number"
                            },
                            "currentStreak": {
                              "type": "number"
                            },
                            "longestStreak": {
                              "type": "number"
                            },
                            "badges": {
                              "type": "array"
                            },
                            "nextLevel": {
                              "type": "object"
                            }
                          }
                        },
                        "stories": {
                          "type": "object"
                        },
                        "recentAchievements": {
                          "type": "array"
                        },
                        "activeStories": {
                          "type": "array"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "getGamificationDashboard"
      }
    },
    "/api/gamification/badges": {
      "get": {
        "summary": "Listar badges disponíveis e conquistados",
        "tags": [
          "Gamification"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de badges",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "earned": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "icon": {
                                "type": "string"
                              },
                              "earned": {
                                "type": "boolean"
                              }
                            }
                          }
                        },
                        "available": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "total": {
                          "type": "number"
                        },
                        "earnedCount": {
                          "type": "number"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "getBadges"
      }
    },
    "/api/gamification/preferences": {
      "put": {
        "summary": "Atualizar preferências de gamificação",
        "tags": [
          "Gamification"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "class": {
                    "type": "string",
                    "enum": [
                      "Aventureiro",
                      "Guerreiro",
                      "Mago",
                      "Ladino",
                      "Paladino",
                      "Explorador"
                    ],
                    "example": "Guerreiro"
                  },
                  "theme": {
                    "type": "string",
                    "enum": [
                      "medieval",
                      "scifi",
                      "modern",
                      "fantasy"
                    ],
                    "example": "medieval"
                  },
                  "autoShare": {
                    "type": "boolean",
                    "example": false
                  },
                  "shareOnLevelUp": {
                    "type": "boolean",
                    "example": true
                  },
                  "shareOnBadge": {
                    "type": "boolean",
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Preferências atualizadas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "preferences": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "updateGamificationPreferences"
      }
    },
    "/api/gamification/share": {
      "post": {
        "summary": "Compartilhar conquista manualmente",
        "tags": [
          "Gamification"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "type"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "level_up",
                      "badge_earned",
                      "streak_milestone",
                      "custom"
                    ],
                    "example": "level_up"
                  },
                  "data": {
                    "type": "object",
                    "properties": {
                      "level": {
                        "type": "number"
                      },
                      "badge": {
                        "type": "object"
                      },
                      "streak": {
                        "type": "number"
                      },
                      "message": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Conquista compartilhada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "shareMilestone"
      }
    },
    "/api/gamification/global-stats": {
      "get": {
        "summary": "Estatísticas globais da plataforma",
        "tags": [
          "Gamification"
        ],
        "responses": {
          "200": {
            "description": "Estatísticas globais",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "users": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "number"
                            },
                            "averageLevel": {
                              "type": "number"
                            }
                          }
                        },
                        "gamification": {
                          "type": "object",
                          "properties": {
                            "totalXP": {
                              "type": "number"
                            },
                            "totalTasksCompleted": {
                              "type": "number"
                            },
                            "totalBadgesEarned": {
                              "type": "number"
                            },
                            "longestStreak": {
                              "type": "number"
                            }
                          }
                        },
                        "stories": {
                          "type": "object",
                          "properties": {
                            "totalStories": {
                              "type": "number"
                            },
                            "totalQuests": {
                              "type": "number"
                            },
                            "completedStories": {
                              "type": "number"
                            },
                            "completionRate": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "getGlobalStats"
      }
    },
    "/api/webhooks/share": {
      "post": {
        "summary": "Webhook para processar compartilhamentos",
        "tags": [
          "Webhooks"
        ],
        "operationId": "processShareWebhook",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "event_type": {
                    "type": "string"
                  },
                  "user_id": {
                    "type": "string"
                  },
                  "data": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Webhook processado",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "timestamp": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tasks": {
      "post": {
        "tags": [
          "Tasks"
        ],
        "summary": "Create a new task",
        "operationId": "createTask",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "description"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "minLength": 3,
                    "maxLength": 100,
                    "example": "Implementar autenticação JWT"
                  },
                  "description": {
                    "type": "string",
                    "minLength": 10,
                    "maxLength": 500,
                    "example": "Implementar sistema de autenticação usando JWT com middleware de verificação"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "in_progress",
                      "completed"
                    ],
                    "default": "pending",
                    "example": "pending"
                  },
                  "priority": {
                    "type": "string",
                    "enum": [
                      "low",
                      "medium",
                      "high"
                    ],
                    "default": "medium",
                    "example": "high"
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2024-12-31T23:59:59.000Z"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "maxLength": 20
                    },
                    "maxItems": 10,
                    "example": [
                      "backend",
                      "auth",
                      "jwt"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Tarefa criada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Tarefa criada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "task": {
                          "$ref": "#/components/schemas/Task"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Tasks"
        ],
        "summary": "Get all tasks for the logged-in user",
        "operationId": "listTasks",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "in_progress",
                "completed"
              ]
            },
            "description": "Filtrar por status"
          },
          {
            "in": "query",
            "name": "priority",
            "schema": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high"
              ]
            },
            "description": "Filtrar por prioridade"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Itens por página"
          },
          {
            "in": "query",
            "name": "sortBy",
            "schema": {
              "type": "string",
              "enum": [
                "createdAt",
                "updatedAt",
                "dueDate",
                "priority",
                "title"
              ],
              "default": "createdAt"
            },
            "description": "Campo para ordenação"
          },
          {
            "in": "query",
            "name": "sortOrder",
            "schema": {
              "type": "string",
              "enum": [
                "asc",
                "desc"
              ],
              "default": "desc"
            },
            "description": "Ordem da classificação"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string",
              "maxLength": 100
            },
            "description": "Buscar no título e descrição"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de tarefas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "tasks": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Task"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "current": {
                              "type": "integer",
                              "example": 1
                            },
                            "pages": {
                              "type": "integer",
                              "example": 5
                            },
                            "total": {
                              "type": "integer",
                              "example": 50
                            },
                            "limit": {
                              "type": "integer",
                              "example": 10
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tasks/stats": {
      "get": {
        "tags": [
          "Tasks"
        ],
        "summary": "Get task statistics",
        "operationId": "getTaskStats",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Estatísticas das tarefas",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "stats": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer",
                              "example": 25
                            },
                            "pending": {
                              "type": "integer",
                              "example": 10
                            },
                            "in_progress": {
                              "type": "integer",
                              "example": 8
                            },
                            "completed": {
                              "type": "integer",
                              "example": 7
                            },
                            "overdue": {
                              "type": "integer",
                              "example": 3
                            },
                            "completedThisMonth": {
                              "type": "integer",
                              "example": 5
                            }
                          }
                        },
                        "overdueTasks": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Task"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tasks/status/{status}": {
      "get": {
        "tags": [
          "Tasks"
        ],
        "summary": "Get tasks by status",
        "operationId": "listTasksByStatus",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "status",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "in_progress",
                "completed"
              ]
            },
            "description": "Status das tarefas"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Itens por página"
          }
        ],
        "responses": {
          "200": {
            "description": "Tarefas filtradas por status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "tasks": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Task"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "current": {
                              "type": "integer"
                            },
                            "pages": {
                              "type": "integer"
                            },
                            "total": {
                              "type": "integer"
                            },
                            "limit": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Status inválido",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/tasks/{id}": {
      "get": {
        "tags": [
          "Tasks"
        ],
        "summary": "Get a specific task by ID",
        "operationId": "getTaskById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID da tarefa"
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes da tarefa",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "task": {
                          "$ref": "#/components/schemas/Task"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Tarefa não encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Tasks"
        ],
        "summary": "Update a task",
        "operationId": "updateTask",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID da tarefa"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "minProperties": 1,
                "properties": {
                  "title": {
                    "type": "string",
                    "minLength": 3,
                    "maxLength": 100,
                    "example": "Implementar autenticação JWT - Atualizado"
                  },
                  "description": {
                    "type": "string",
                    "minLength": 10,
                    "maxLength": 500,
                    "example": "Implementar sistema de autenticação usando JWT com middleware de verificação e refresh tokens"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "pending",
                      "in_progress",
                      "completed"
                    ],
                    "example": "in_progress"
                  },
                  "priority": {
                    "type": "string",
                    "enum": [
                      "low",
                      "medium",
                      "high"
                    ],
                    "example": "high"
                  },
                  "dueDate": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": true,
                    "example": "2024-12-31T23:59:59.000Z"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "maxLength": 20
                    },
                    "maxItems": 10,
                    "example": [
                      "backend",
                      "auth",
                      "jwt",
                      "security"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Tarefa atualizada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Tarefa atualizada com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "task": {
                          "$ref": "#/components/schemas/Task"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Dados inválidos",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Tarefa não encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Tasks"
        ],
        "summary": "Delete a task",
        "operationId": "deleteTask",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID da tarefa"
          }
        ],
        "responses": {
          "200": {
            "description": "Tarefa deletada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Tarefa deletada com sucesso"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Tarefa não encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/tasks/{id}/complete": {
      "patch": {
        "tags": [
          "Tasks"
        ],
        "summary": "Mark a task as complete",
        "operationId": "completeTask",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID da tarefa"
          }
        ],
        "responses": {
          "200": {
            "description": "Tarefa marcada como concluída",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Tarefa marcada como concluída"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "task": {
                          "$ref": "#/components/schemas/Task"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Tarefa já está concluída",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Tarefa não encontrada",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/tasks/story": {
      "post": {
        "tags": [
          "Gamification"
        ],
        "summary": "Generate a story from tasks",
        "operationId": "createStoryFromTasks",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "taskIds"
                ],
                "properties": {
                  "taskIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "minItems": 1,
                    "maxItems": 10,
                    "example": [
                      "64a1b2c3d4e5f6789abcdef0",
                      "64a1b2c3d4e5f6789abcdef1"
                    ]
                  },
                  "userPreferences": {
                    "type": "object",
                    "properties": {
                      "theme": {
                        "type": "string",
                        "enum": [
                          "medieval",
                          "scifi",
                          "modern",
                          "fantasy"
                        ],
                        "example": "medieval"
                      },
                      "class": {
                        "type": "string",
                        "enum": [
                          "Aventureiro",
                          "Guerreiro",
                          "Mago",
                          "Ladino",
                          "Paladino",
                          "Explorador"
                        ],
                        "example": "Guerreiro"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "História épica gerada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "História épica gerada com sucesso!"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "story": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "title": {
                              "type": "string"
                            },
                            "story": {
                              "type": "string"
                            },
                            "theme": {
                              "type": "string"
                            },
                            "totalXP": {
                              "type": "number"
                            },
                            "estimatedPlayTime": {
                              "type": "string"
                            }
                          }
                        },
                        "quests": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "questTitle": {
                                "type": "string"
                              },
                              "questDescription": {
                                "type": "string"
                              },
                              "difficulty": {
                                "type": "string"
                              },
                              "xp": {
                                "type": "number"
                              },
                              "category": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tasks/{id}/complete-quest": {
      "post": {
        "tags": [
          "Gamification"
        ],
        "summary": "Complete a quest (task) and get XP",
        "operationId": "completeQuest",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID da tarefa/quest"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "completionTime": {
                    "type": "number",
                    "description": "Tempo gasto em minutos",
                    "example": 45
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Quest completada com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Quest completada! +25 XP"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "task": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "title": {
                              "type": "string"
                            },
                            "questTitle": {
                              "type": "string"
                            },
                            "xpEarned": {
                              "type": "number"
                            }
                          }
                        },
                        "gamification": {
                          "type": "object",
                          "properties": {
                            "xpGained": {
                              "type": "number"
                            },
                            "leveledUp": {
                              "type": "boolean"
                            },
                            "newLevel": {
                              "type": "number"
                            },
                            "newBadges": {
                              "type": "array"
                            },
                            "totalXP": {
                              "type": "number"
                            },
                            "currentStreak": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tasks/stories": {
      "get": {
        "tags": [
          "Gamification"
        ],
        "summary": "List all stories for the user",
        "operationId": "listStories",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "active",
            "schema": {
              "type": "string",
              "enum": [
                true,
                false
              ],
              "default": true
            },
            "description": "Filtrar histórias ativas"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 10
            },
            "description": "Limite de resultados"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Página"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de histórias",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "stories": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Story"
                          }
                        },
                        "pagination": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/tasks/stories/{id}": {
      "get": {
        "tags": [
          "Gamification"
        ],
        "summary": "Get a specific story by ID",
        "operationId": "getStoryById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID da história"
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes da história",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "story": {
                          "$ref": "#/components/schemas/Story"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/users/stats": {
      "get": {
        "summary": "Obter estatísticas gerais do sistema (Admin only)",
        "tags": [
          "Users"
        ],
        "operationId": "getUserStats",
        "responses": {
          "200": {
            "description": "Estatísticas do sistema",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "users": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer",
                              "example": 150
                            },
                            "active": {
                              "type": "integer",
                              "example": 140
                            },
                            "inactive": {
                              "type": "integer",
                              "example": 10
                            },
                            "admins": {
                              "type": "integer",
                              "example": 5
                            }
                          }
                        },
                        "tasks": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer",
                              "example": 1250
                            },
                            "completed": {
                              "type": "integer",
                              "example": 800
                            },
                            "pending": {
                              "type": "integer",
                              "example": 300
                            },
                            "inProgress": {
                              "type": "integer",
                              "example": 150
                            },
                            "overdue": {
                              "type": "integer",
                              "example": 45
                            }
                          }
                        },
                        "mostActiveUsers": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "userId": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "email": {
                                "type": "string"
                              },
                              "taskCount": {
                                "type": "integer"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado - privilégios de admin necessários",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/users": {
      "get": {
        "summary": "Listar todos os usuários (Admin only)",
        "tags": [
          "Users"
        ],
        "operationId": "getAllUsers",
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Número da página"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10
            },
            "description": "Itens por página"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Buscar por nome ou email"
          },
          {
            "in": "query",
            "name": "role",
            "schema": {
              "type": "string",
              "enum": [
                "user",
                "admin"
              ]
            },
            "description": "Filtrar por papel"
          },
          {
            "in": "query",
            "name": "isActive",
            "schema": {
              "type": "boolean"
            },
            "description": "Filtrar por status ativo"
          }
        ],
        "responses": {
          "200": {
            "description": "Lista de usuários",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "users": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/User"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "current": {
                              "type": "integer",
                              "example": 1
                            },
                            "pages": {
                              "type": "integer",
                              "example": 15
                            },
                            "total": {
                              "type": "integer",
                              "example": 150
                            },
                            "limit": {
                              "type": "integer",
                              "example": 10
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado - privilégios de admin necessários",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{id}": {
      "get": {
        "summary": "Obter usuário específico (Admin only)",
        "tags": [
          "Users"
        ],
        "operationId": "getUserById",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID do usuário"
          }
        ],
        "responses": {
          "200": {
            "description": "Detalhes do usuário",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/User"
                        },
                        "taskStats": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "integer"
                            },
                            "pending": {
                              "type": "integer"
                            },
                            "in_progress": {
                              "type": "integer"
                            },
                            "completed": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado - privilégios de admin necessários",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Usuário não encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Atualizar usuário (Admin only)",
        "tags": [
          "Users"
        ],
        "operationId": "updateUser",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID do usuário"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 50,
                    "example": "João Silva Santos"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "joao.santos@email.com"
                  },
                  "role": {
                    "type": "string",
                    "enum": [
                      "user",
                      "admin"
                    ],
                    "example": "user"
                  },
                  "isActive": {
                    "type": "boolean",
                    "example": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Usuário atualizado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Usuário atualizado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Email já está em uso",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado - privilégios de admin necessários",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Usuário não encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Deletar usuário (Admin only)",
        "tags": [
          "Users"
        ],
        "operationId": "deleteUser",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID do usuário"
          }
        ],
        "responses": {
          "200": {
            "description": "Usuário deletado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Usuário e suas tarefas foram deletados com sucesso"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Não é possível deletar própria conta",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado - privilégios de admin necessários",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Usuário não encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/api/users/{id}/toggle-status": {
      "patch": {
        "summary": "Ativar/Desativar usuário (Admin only)",
        "tags": [
          "Users"
        ],
        "operationId": "toggleUserStatus",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID do usuário"
          }
        ],
        "responses": {
          "200": {
            "description": "Status do usuário alterado com sucesso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Usuário ativado com sucesso"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "user": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "name": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "isActive": {
                              "type": "boolean"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Não é possível desativar própria conta",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "403": {
            "description": "Acesso negado - privilégios de admin necessários",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          },
          "404": {
            "description": "Usuário não encontrado",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Gamification",
      "description": "Sistema de gamificação com XP, levels, badges e leaderboard"
    }
  ]
}